package servlet;

import dao.StudentDAO;
import jakarta.servlet.ServletException;

import jakarta.servlet.http.*;

import java.io.IOException;
import java.sql.Date;
import java.time.LocalDate;


public class ParentMeetingDoneServlet extends HttpServlet {
    @Override
    protected void doPost(HttpServletRequest req, HttpServletResponse resp)
            throws ServletException, IOException {

        String studentIdStr = req.getParameter("studentId");
        if (studentIdStr != null && !studentIdStr.isEmpty()) {
            int studentId = Integer.parseInt(studentIdStr);
            StudentDAO dao = new StudentDAO();
            dao.resetAfterParentMeeting(studentId, Date.valueOf(LocalDate.now()));
        }
        resp.sendRedirect("ManageStruckOffServlet");
    }
}
